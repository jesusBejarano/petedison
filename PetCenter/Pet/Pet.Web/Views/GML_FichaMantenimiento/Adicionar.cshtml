<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pet Center - Gestion de Exámenes de Laboratorio, Rayos X y Otros</title>

    <link href="~/css/bootstrap.css" rel="stylesheet">

    <link href="~/css/font-awesome.min.css" rel="stylesheet">
    <link href="~/css/style.css" rel="stylesheet">
    <link href="~/css/jquery-ui.css" rel="stylesheet" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>
    <input type="hidden" id="idComprobante" value="" />
    <input type="hidden" id="idCliente" value="" />
    <input type="hidden" id="idPaciente" value="" />
    <div id="header">
        <div class="logo-group">
            <span class="logo"> <img src="http://@Request.Url.Authority/img/petcenter.png"> </span>
            <span class="nombre-sistema"> </span>
        </div>
        <div class="user-group">
            <div id="logout" class="btn-header salir">
                <span> <a href="login.html" title="Cerrar sesión"><i class="fa fa-sign-out"></i></a> </span>
            </div>
            <div class="usuario hidden-xs text-right">
                <div class="usuario-nombre">Usuario Matenimiento</div>
                <div class="cargo">Administrador</div>
            </div>
        </div>
    </div>

    <div id="menu-prin">
        <ul class="nav nav-stacked" id="accordion1">
            <li class="panel">
                <a href="#"><i class="fa fa-lg fa-fw fa-home"></i> Inicio</a>
            </li>
            <li class="panel active">
                <a data-toggle="collapse" data-parent="#accordion1" href="#ini-generabase" aria-expanded="true">
                    <i class="fa fa-lg fa-fw fa-cube">
                    </i> Gestión de Mante. de Local <b><em class="fa mas-menos"></em></b>
                </a>
                <ul id="ini-generabase" class="collapse in" aria-expanded="true">
                    <li class="active"><a href="#">Solicitud de Atención</a></li>
                    <li><a href="#">Ficha Mantenimiento</a></li>

                </ul>
            </li>
            <li class="panel">
                <a href="#"><i class="fa fa-lg fa-fw fa-cubes"></i> Mis Exámenes Laboratorio</a>
            </li>
            <li class="panel">
                <a href="#"><i class="fa fa-lg fa-fw fa-sign-out"></i> Salir</a>
            </li>
        </ul>
    </div>

    <div id="cuerpo" style="background-color:transparent">
        <div id="content">
            <div class="row">

                <div class="col-xs-12 col-sm-7 col-md-8 col-lg-8">
                    <div class="row">
                        <div class="container-fluid text-left">

                            <div class="h1-resultados page-title">
                                Ficha de Mantenimiento
                                <div class="h2-resultados page-title" style="padding-left:10px;float:right;">
                                    - Adicionar
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>

            <!-- Filtro de Búsqueda del Reporte -->
            <div class="row">
                <div class="col-sm-12">
                    <div class="well">

                        <div class="row">  

                            <div class="smart-form">
                                <div class="col-sm-12 text-left"> 
                                    <fieldset class="scheduler-border">

                                        <legend class="scheduler-border">Datos Mantenimiento</legend>

                                        <div class="col-sm-4 text-left">
                                            <div class="input-group input-group-sm">
                                                <label class="control-label input-label" for="startTime">Nro Mantenimiento</label>
                                                <input id="txtNroSol" type="text" class="form-control" placeholder="Nro de Sol. Mant." style="text-transform:uppercase" readonly="true" onfocus="limpiarCamposBusqueda();">
                                            </div>
                                        </div>

                                        <div class="col-sm-3 text-left">
                                                <div style="height:22px">
                                                </div> 
                                                <button type="button" id="btn-buscar-mant" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#myModalBuscaMante">
                                                    Buscar
                                                </button>
                                        </div>

                                        <div class="col-sm-12">&nbsp;</div>
                                        <div class="col-sm-4 text-left">
                                            <div class="input-group input-group-sm">
                                                <label class="control-label input-label" for="txtDescrip">Descripción Solicitud: </label>
                                                <input id="txtDesSol" type="text" class="form-control"  style="text-transform:uppercase;" readonly="true" onfocus="limpiarCamposBusqueda();" />
                                            </div>
                                        </div>
                                        <div class="col-sm-4 text-left">
                                            <div class="input-group input-group-sm">
                                                <label class="control-label input-label" for="txtDescrip">Descripción Mantenimiento: </label>
                                                <input id="txtDesMant" type="text" class="form-control"  style="text-transform:uppercase;" readonly="true" onfocus="limpiarCamposBusqueda();" />
                                            </div>
                                        </div>


                                        <div class="col-sm-12">&nbsp;</div>

                                        <div class="col-sm-4 text-left">
                                            <div class="input-group input-group-sm">
                                                <label class="control-label input-label" for="txtDescrip">Tipo Mantenimiento: </label>
                                                <input id="txtDesTipMant" type="text" class="form-control"  style="text-transform:uppercase;" readonly="true" onfocus="limpiarCamposBusqueda();" />
                                            </div>
                                        </div>



                                        <div class="col-sm-4 text-left">
                                            <div class="input-group input-group-sm">
                                                <label class="control-label input-label" for="txtDescrip">Sede: </label>
                                                <input id="txtDesSede" type="text" class="form-control"  style="text-transform:uppercase;" readonly="true" onfocus="limpiarCamposBusqueda();" />
                                            </div>
                                        </div>

                                        <div class="col-sm-12">&nbsp;</div>
                                        <div class="col-sm-4 text-left">
                                            <div class="input-group input-group-sm">
                                                <label class="control-label input-label" for="txtDescrip">Area: </label>
                                                <input id="txtDesArea" type="text" class="form-control"  style="text-transform:uppercase;" readonly="true" onfocus="limpiarCamposBusqueda();" />
                                            </div>
                                        </div>
                                        


                                    </fieldset>
                                </div>
                            </div>
                            <div class="smart-form">

                            </div>

                        </div>




                        <div>

                            <div class="smart-form">
                                <div class="col-sm-12 text-left">
                                    <fieldset class="scheduler-border">

                                        <legend class="scheduler-border">Datos Mantenimiento</legend>

                                            <div class="col-sm-4 text-left">
                                                <div class="input-group input-group-sm">
                                                    <label class="control-label input-label" for="startTime">Descripción Ficha</label>
                                                    <input id="txtDescMant" type="text" class="form-control" placeholder="Descripcion Ficha" style="text-transform:uppercase"  />
                                                </div>
                                            </div>
                                            <div class="col-sm-3 text-left">

                                                <label class="control-label input-label" for="startTime">Fecha Mantenimiento: </label>
                                                <input type="date" id="fecMant" min="2017-01-26" style="height:30px">

                                            </div>
                                            <div class="col-sm-12">&nbsp;</div>

                                            <div class="col-sm-4 text-left">
                                                <div class="input-group input-group-sm">
                                                    <label class="control-label input-label" for="startTime">Numero Tecnico </label>
                                                    <input id="txtNumTec" type="text" class="form-control" placeholder="Descripción Ficha" style="text-transform:uppercase" onkeypress="return isNumberIntegerKey(event)" maxlength="2" />
                                                </div>
                                            </div>

                                    </fieldset>
                                  </div>
                            </div>

                       </div>



                                <div id="DIVlistamante">

                                    <fieldset class="scheduler-border">

                                        <legend class="scheduler-border">Lista de Actividades</legend>

                                        <div style="text-align:left;padding-bottom:15px">
                                            <button type="button" id="btn-addact" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#myModal">
                                                Agregar
                                            </button>
                                        </div>

                                        <div class="table-responsive">

                                            <table class="table" style="">

                                                <thead>
                                                    <tr>
                                                        <th>Codigo</th>
                                                        <th>Descripcion</th>
                                                        <th>Accion</th>
                                                    </tr>
                                                </thead>

                                                <tbody id="tbact">
                                                    @*<tr>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>
                                        <td><a href="javascript:void(0)" class="delmante">Eliminar</a></td>
                                    </tr>*@
                                                </tbody>



                                            </table>
                                        </div>


                                    </fieldset>
                                </div>


                                <div id="DIVlistmate">

                                    <fieldset class="scheduler-border">

                                        <legend class="scheduler-border">Lista de Materiales</legend>

                                        <div style="text-align:left;padding-bottom:15px">
                                            <button type="submit" id="btn-addman" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#myModalMat">
                                                Agregar
                                            </button>
                                        </div>

                                        <div class="table-responsive">
                                            <table class="table" style="">

                                                <thead>
                                                    <tr>
                                                        <th>Codigo</th>
                                                        <th>Descripcion</th>
                                                        <th>Cant</th>
                                                        <th>Accion</th>
                                                    </tr>
                                                </thead>

                                                <tbody id="tbmat">
                                                    @*<tr>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>

                                        <td><a href="javascript:void(0)" class="delmante">Eliminar</a></td>
                                    </tr>*@
                                                </tbody>



                                            </table>
                                        </div>


                                    </fieldset>
                                </div>



                            </div>
                        </div>

                <!-- Cuerpo del Reporte -->
                <div class="row">
                    <div class="col-sm-12">
                        <div class="well">

                            <div class="row">
                                <div class="smart-form">
                                    <div class="col-sm-12 text-left">
                                        <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" onclick="grabarficha()">
                                            Registrar
                                        </button>
                                    </div>
                                </div>
                            </div>
                             

                            <div class="separa-20"></div>


                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <!-- Modal Busca Mantenimientos -->

        <div id="myModalBuscaMante" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <strong>Buscar Mantenimiento</strong>
                    </div>

                    <div class="panel-body" style="margin:10px">
                        <div class="row">
                            <div class="col-xs-12">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr style="background-color:#FFD54F">

                                            <td>
                                               
                                                <div class="col-sm-4 text-left">
                                                    <div class="input-group input-group-sm">
                                                        <label class="control-label input-label" for="startTime">Nro de Solicitud: </label>
                                                        <input id="txtNroSol" type="text" class="form-control" placeholder="Nro de Solicitud..." style="text-transform:uppercase" onfocus="limpiarCamposBusqueda();">
                                                    </div>
                                                </div>
                                                <div class="col-sm-4 text-left">

                                                    <div class="input-group input-group-sm">
                                                        <label class="control-label input-label" for="cboTipoMant">Tipo de Mantenimiento: </label>
                                                        <select id="cboTipoMant" onfocus="limpiarCamposBusqueda();">
                                                            <option value="0" selected>-- Seleccione --</option>
                                                            <option value="1">MANTENIMIENTO CORRECTIVO</option>
                                                            <option value="2">MANTENIMIENTO PREVENTIVO</option>

                                                        </select>
                                                    </div>

                                                </div>
                                                <div class="col-sm-3 text-left">
                                                    <div class="input-group input-group-sm">
                                                        <label class="control-label input-label" for="startTime">Fecha Inicio :</label>
                                                        <input type="date" id="desdeDay" max="2017-12-31" style="height:30px">

                                                    </div>
                                                </div>

                                                <div class="col-sm-12">&nbsp;</div>

                                                <div class="col-sm-4 text-left">
                                                    <div class="input-group input-group-sm">
                                                        <label class="control-label input-label" for="startTime">Estado: </label>
                                                        <!--input id="txtEstadoCartilla" type="text" class="form-control" placeholder="Estado Cartilla de Atención..." style="text-transform:uppercase"-->
                                                        <select id="cboEstado">
                                                            <option value="0" selected>-- Seleccione --</option>
                                                            <option value="1">CREADO</option>
                                                            <option value="2">APROBADO</option>
                                                        </select>
                                                    </div>
                                                </div>



                                                <div class="col-sm-4 text-left">
                                                    <div class="input-group input-group-sm">
                                                        <label class="control-label input-label" for="startTime">Sede: </label>
                                                        <select id="cboSede" onfocus="limpiarCamposBusqueda();">
                                                            <option value="0" selected>-- Seleccione --</option>
                                                            <option value="1">San Borja</option>
                                                            <option value="2">Principal</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-sm-3 text-left">
                                                    <div class="input-group input-group-sm">
                                                        <label class="control-label input-label" for="startTime">Fecha Fin :</label>
                                                        <input type="date" id="hastaDay" max="2017-12-31" style="height:30px">
                                                    </div>
                                                </div>

                                                <div class="col-sm-12">&nbsp;</div>

                                                <div class="col-sm-4 text-left">
                                                    <div class="input-group input-group-sm">
                                                        <label class="control-label input-label" for="cboArea">Area: </label>
                                                        <select id="cboArea" onfocus="limpiarCamposBusqueda();">
                                                            <option value="0" selected>-- Seleccione --</option>
                                                            <option value="1">ADMINISTRACIÓN</option>
                                                            <option value="2">OPERACIONES</option>
                                                            <option value="3">area 2</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4 text-left">
                                                    <div class="input-group input-group-sm">
                                                        <label class="control-label input-label" for="txtDescrip">Descripción: </label>
                                                        <input id="txtDescrip" type="text" class="form-control" placeholder="Descripción" style="text-transform:uppercase" onfocus="limpiarCamposBusqueda();">
                                                    </div>
                                                </div>
                                                <div class="col-sm-4 text-left">
                                                    <div class="input-group input-group-sm">
                                                        <button type="button" id="btnBuscaMante" class="btn btn-sm" onclick="btnBuscaMante()">Buscar</button>
                                                    </div>
                                                </div>


                                            </td>
                                            

                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>

                        <div class="row">
                            <div class="table-responsive">
                                <table class="table" style="">
                                    <thead>
                                        <tr>
                                            <th> Select </th>
                                            <th>Nro Man</th>
                                            <th>Fecha Sol</th>
                                            <th>Area</th>
                                            <th>Sede</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbbuscaactividades">
                                        <tr>
                                            <td><a href="javascript:void(0)">Select</a></td>
                                            <td>&nbsp;</td>
                                            <td>&nbsp;</td>
                                            <td>&nbsp;</td>
                                            <td>&nbsp;</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-sm-3"></div>
                            <div class="col-sm-6">
                                <button type="button" id="btnAceptarAct" class="btn btn-sm" onclick="">Aceptar</button>
                                <button type="button" id="btnCerrarAct" class="btn btn-sm" data-dismiss="modal"> Cerrar</button>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>



        <!-- Modal -->
        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog"> 
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <strong>Agregar Actividades</strong> 
                    </div>

                    <div class="panel-body" style="margin:10px">
                        <div class="row">
                            <div class="col-xs-12">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr style="background-color:#FFD54F">

                                            <td>
                                                Descripción 
                                            </td>
                                            <td>
                                                <input id="txtDescripActividad" type="text" class="form-control" placeholder="Descripción" style="text-transform:uppercase;"  />
                                            </td>
                                            <td>
                                                <button type="button" id="btnBuscarAct" class="btn btn-sm" onclick="">Buscar</button>
                                            </td>

                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>

                        <div class="row" >
                            <div class="table-responsive">
                                <table class="table" style="">
                                    <thead>
                                        <tr>
                                            <th> Select </th>
                                            <th>Codigo</th>
                                            <th>Descripcion</th>
                                             
                                        </tr>
                                    </thead>
                                    <tbody id="tbactividades">
                                        <tr>
                                            <td><a href="javascript:void(0)" >Select</a></td>
                                            <td>&nbsp;</td>
                                            <td>&nbsp;</td> 
                                              
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-sm-3"></div>
                            <div class="col-sm-6">
                                
                                <button type="button" id="btnCerrarAct" class="btn btn-sm" data-dismiss="modal"> Cerrar</button>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>


        <!-- Modal Materiales -->
        <div id="myModalMat" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <strong>Agregar Materiales</strong>
                    </div>

                    <div class="panel-body" style="margin:10px" >
                        <div class="row">
                            <div class="col-xs-12">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr style="background-color:#FFD54F">
                                            <td>
                                                Descripción
                                            </td>
                                            <td>
                                                <input id="txtDescripMante" type="text" class="form-control" placeholder="Descripción" style="text-transform:uppercase;" />
                                            </td>
                                            <td>
                                                <button type="button" id="btnBuscarMat"   class="btn btn-sm" onclick="btnBuscarMat()">Buscar</button>
                                            </td>
                                        </tr>

                                    </thead>
                                </table>
                            </div>
                        </div>

                        <div class="row">
                            <div class="table-responsive">
                                <table class="table" style="">
                                    <thead> 
                                        <tr>
                                            <th>Select</th>
                                            <th>Codigo</th>
                                            <th>Descripción</th>
                                             
                                        </tr>
                                    </thead>
                                    <tbody id="tbmateriales">
                                        <tr>
                                            <td><a href="javascript:void(0)">Select</a></td>
                                            <td>&nbsp;</td>
                                            <td>&nbsp;</td>
                                            
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>



                        <div class="row">
                            <div class="col-sm-3"></div>
                            <div class="col-sm-6">
                                 
                                <button type="button" id="btnCerrarMat" class="btn btn-sm" data-dismiss="modal"> Cerrar</button>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>


        <script src="http://@Request.Url.Authority/js/external/jquery/jquery.js"></script>
        <link href="http://@Request.Url.Authority/Scripts/jquery-ui.min.css" rel="stylesheet" />
        <script src="http://@Request.Url.Authority/Scripts/jquery-ui.min.js"></script>
        <script src="http://@Request.Url.Authority/js/bootstrap.min.js"></script>



        <script src="http://@Request.Url.Authority/js/bootswatch.js"></script>


        <!-- JQgrid -->
        <link type="text/css" href="http://@Request.Url.Authority/css/JQGrid/jquery-ui-1.9.2.custom.css" rel="stylesheet" />
        <link type="text/css" href="http://@Request.Url.Authority/css/JQGrid/ui.jqgrid.css" rel="stylesheet" />

        <script type="text/javascript" src="http://@Request.Url.Authority/js/JQGrid/jquery-1.8.3.js"></script>
        <script type="text/javascript" src="http://@Request.Url.Authority/js/JQGrid/jquery-ui-1.9.2.custom.js"></script>
        <script type="text/javascript" src="http://@Request.Url.Authority/js/JQGrid/grid.locale-en.js"></script>
        <script type="text/javascript" src="http://@Request.Url.Authority/js/JQGrid/jquery.jqGrid.min.js"></script>

        <!-- Mensajes Alerta -->
        <script type="text/javascript" src="http://@Request.Url.Authority/js/alertify.js"></script>
        <link rel="stylesheet" href="http://@Request.Url.Authority/css/alertify.core.css" />
        <link rel="stylesheet" href="http://@Request.Url.Authority/css/alertify.default.css" />

        <script type="text/javascript">
            function editar(id) {
                // alert(id);
                //ocument.getElementById("txtEditar").value(id);
                // $(editarSolicitud(id));
            }
            $(document).ready(function () {

                $(function () {

                    /* Este Grid es el que mejor se cre */
                $("#dataGrid").jqGrid({
                    url: '/CartillaAtencion/listarCartillaAtencion/',
                    datatype: 'json',
                    mtype: 'POST',
                    serializeGridData: function (postData) {
                        alert(postData.rows);
                        console.log(postData);
                        return JSON.stringify(postData);
                    },
                    contentType: "application/json",
                    success: function (data) {
                        console.log(data);
                    },
                    error: function (xqr, errorMessage) {
                        alert(errorMessage);
                    },
                    ajaxGridOptions: { contentType: "application/json" },
                    loadonce: true,
                    colNames: ['Nro Comprobante', 'Nombre Cliente', 'Paciente', 'Nombre Empleado', 'Código', 'Fec.Creación', 'Estado'],
                    colModel: [
                                    { name: 'numero_comprobante', index: 'Nro Comprobante', width: 120 },
                                    { name: 'nombre_cliente', index: 'Nombre Cliente', width: 245 },
                                    { name: 'nombre_paciente', index: 'Paciente', width: 100 },
                                    { name: 'nombre_empleado', index: 'Nombre Empleado', width: 200 },
                                    { name: 'codigo', index: 'Código', width: 80 },
                                    { name: 'fecha_creacion', index: 'Fec.Creación', width: 100 },
                                    { name: 'estado_cartilla', index: 'Estado', width: 80 }
                    ],
                    pager: '#pager',
                    rowNum: 5,
                    rowList: [10, 20, 30],
                    viewrecords: true,
                    gridview: true,
                    jsonReader: {
                        page: function (obj) { return 1; },
                        total: function (obj) { return 1; },
                        //records: function (obj) { return obj.d.length; },
                        root: function (obj) { return obj.d; },
                        repeatitems: false,
                        id: "0"
                    },
                    caption: 'Registro de Atenciones de Laboratorio...'
                });
                }).navGrid("#pager", { edit: true, add: true, del: false });



                var detalleSolicitud = [];
                //$('.solo_numeros').soloPermitir('0123456789');

                $.ajax({
                    type: "POST",
                    async: false,
                    url: '/CartillaAtencion/listarCartillaAtencion/',
                    cache: false,
                    //data: JSON.stringify(data),
                    dataType: "JSON",
                    contentType: "application/json",
                    success: function (data) {
                        console.log(data);
                        var $tableCartilla = $('<table/>');
                        $tableCartilla.append('<thead><tr><th>COMPROBANTE</th><th>NOMBRE CLIENTE</th><th>PACIENTE</th><th>NOMBRE EMPLEADO</th><th>CÓDIGO</th><th>FECHA CREACIÓN</th><th>ESTADO</th></tr></thead>');
                        var $tbodyCartilla = $('<tbody/>');
                        $.each(data, function (i, val) {
                            //alert("val:" + val.NUMCOM);
                            var $row = $('<tr/>');
                            $row.append($('<td/>').html(val.NUMCOM));
                            $row.append($('<td/>').html(val.NOMCLI));
                            $row.append($('<td/>').html(val.NOMPAC));
                            $row.append($('<td/>').html(val.NOMEMP));
                            $row.append($('<td/>').html(val.CODIGO));
                            $row.append($('<td/>').html(val.FECCRE));
                            $row.append($('<td/>').html(val.ESTCAR));

                            $tbodyCartilla.append($row);

                        });
                        $tableCartilla.append($tbodyCartilla);
                        $('#tabAtencionMedica').html($tableCartilla);
                    },
                    error: function (xqr, errorMessage) {
                        //alert(errorMessage);
                    }
                });


                $('#btn-addact,#btnBuscarAct').click(function () {

                   
                    consultaAct();
                         
                });

                $('#btn-addman').click(function () {


                    btnBuscarMat();

                });

                


            });


            function btnBuscaMante() {

                var data = {
                    
                    codigoSolicitud: $('#txtNroSol').val(),
                    descripcion_solicitud: '',
                    descripcion_mantenimeinto: $('#txtDescrip').val(),
                    codigoTipoMantenimiento: $('#cboTipoMant').val(),
                    fechaInicio: $('#desdeDay').val(),
                    fechaFin: $('#hastaDay').val(),
                    codigoSede: $('#cboSede').val(),
                    codigoArea: $('#cboArea').val()

                }


                $.ajax({
                    type: "POST",
                    async: false,
                    url: '/GML_FichaMantenimiento/ConsultarMantenimiento/',
                    cache: false,
                    data: JSON.stringify(data),
                    dataType: "JSON",
                    contentType: "application/json",
                    success: function (data) {
                        console.log(data);
                        $('#tbbuscaactividades tr').remove();
                        $.each(data, function (i, val) {
                            //alert("val:" + val.NUMCOM);
                            var $row = $('<tr/>');

                            var strtd = "";

                            strtd += "<td> <a href='javascript:void(0)' onClick='getDtosMant(this)' dir=" + val.CodigoMantenimiento + " > Select </a>";
                            strtd +=" <input type='hidden' value='" + val.DescripcionSolicitud + "'   />";
                            strtd +=" <input type='hidden' value='" + val.DescripcionMantenimiento + "'   />";
                            strtd +=" <input type='hidden' value='" + val.DescripcionTipoMantenimiento + "'   />";
                            strtd +=" <input type='hidden' value='" + val.DescripcionSedeMantenimiento + "'   />";
                            strtd += " <input type='hidden' value='" + val.DescripcionAreaMantenimiento + "'   />  ";

                            $row.append(strtd);


                            $row.append("<td>" + val.CodigoMantenimiento + "</td>");
                            $row.append("<td>" + val.FechaMantenimiento + "</td>");
                            $row.append("<td>" + val.DescripcionAreaMantenimiento + "</td>");
                            $row.append("<td>" + val.DescripcionSedeMantenimiento + "</td>");
                            $row.append("</tr>");
                            

                            $('#tbbuscaactividades').append($row);

                        });
                       
                    },
                    error: function (xqr, errorMessage) {
                        alert(errorMessage);
                    }
                });

            }


            function consultaAct() {

                var data = {


                    descripcionActividad: $('#txtDescripActividad').val(),


                }


                $.ajax({
                    type: "POST",
                    async: false,
                    url: '/GML_FichaMantenimiento/consultarActividades/',
                    cache: false,
                    data: JSON.stringify(data),
                    dataType: "JSON",
                    contentType: "application/json",
                    success: function (data) {
                        console.log(data);
                        $('#tbactividades tr').remove();
                        $.each(data, function (i, val) {
                            //alert("val:" + val.NUMCOM);
                            var $row = $('<tr/>');

                            var strtd = "";

                            strtd += "<td> <a href='javascript:void(0)' onClick='addAct(this)' dir=" + val.CodigoActividad + " > Select </a>";
                            strtd += " <input type='hidden' value='" + val.CodigoActividad + "'   />";
                            strtd += " <input type='hidden' value='" + val.Nombre + "'   />";
                            strtd += " </td>";

                            $row.append(strtd);

                            $row.append("<td>" + val.CodigoActividad + "</td>");
                            $row.append("<td>" + val.Nombre + "</td>");

                            $row.append("</tr>");


                            $('#tbactividades').append($row);

                        });

                    },
                    error: function (xqr, errorMessage) {
                        alert(errorMessage);
                    }
                });
            }


            function btnBuscarMat() {

                var data = {


                    descripcionMaterial: $('#txtDescripMante').val(),


                }


                $.ajax({
                    type: "POST",
                    async: false,
                    url: '/GML_FichaMantenimiento/consultarMateriales/',
                    cache: false,
                    data: JSON.stringify(data),
                    dataType: "JSON",
                    contentType: "application/json",
                    success: function (data) {
                        console.log(data);
                        $('#tbmateriales tr').remove();
                        $.each(data, function (i, val) {
                            //alert("val:" + val.NUMCOM);
                            var $row = $('<tr/>');

                            var strtd = "";

                            strtd += "<td> <a href='javascript:void(0)' onClick='addMat(this)' dir=" + val.CodigoMaterial + " > Select </a>";
                            strtd += " <input type='hidden' value='" + val.CodigoMaterial + "'   />";
                            strtd += " <input type='hidden' value='" + val.Nombre + "'   />";
                            strtd += " </td>";

                            $row.append(strtd);

                            $row.append("<td>" + val.CodigoMaterial + "</td>");
                            $row.append("<td>" + val.Nombre + "</td>");
                            

                            $row.append("</tr>");


                            $('#tbmateriales').append($row);

                        });

                    },
                    error: function (xqr, errorMessage) {
                        alert(errorMessage);
                    }
                });

                  
            }




            function getDtosMant(obj) {

                var desSol = $(obj).next().val();
                var desMant = $(obj).next().next().val();
                var tipMant = $(obj).next().next().next().val();
                var sede = $(obj).next().next().next().next().val();
                var area = $(obj).next().next().next().next().next().val();

                $("#myModalBuscaMante").hide();


                $('#txtNroSol').val($(obj).attr('dir'));
                $('#txtDesSol').val(desSol);

                $('#txtDesMant').val(desMant);
                $('#txtDesTipMant').val(tipMant);

                $('#txtDesSede').val(sede);
                $('#txtDesArea').val(area);
     
            }

            function addAct(obj) {


               
                var desAct = $(obj).next().next().val();
                var idAct = $(obj).attr('dir');

                var sw = false;

                $('#tbact tr').each(function () {

                    if ($.trim($(this).find('.clsidact').text()) == idAct) {
                        alertify.error("Ya se ingreso la actividad");
                        sw = true;
                        return;
                    }

                });

                if (sw==false) {

                    var strtd = "<tr>";
                    strtd += "<td class='clsidact' >" + idAct + "</td>";
                    strtd += "<td class='clsdesact' >" + desAct + "</td>";
                    strtd += "<td><a href='javascript:void(0)' onclick='delitem(this)'  >Eliminar</a></td>";
                    strtd += "</tr>";


                    $('#tbact').append(strtd);

                }
                
                //$('#DIVlistamante tbody').append(strtd);


                $("#myModal").hide();
            }

            function addMat(obj) {



                var desMat = $(obj).next().next().val();
                var idmat = $(obj).attr('dir');

                var sw = false;

                $('#tbmat tr').each(function () {

                    if ($.trim($(this).find('.clsidmat').text()) == idmat) {
                        alertify.error("Ya se ingreso el material");
                        sw = true;
                        return;
                    }

                });

                 
                if (sw == false) {
                

                var strtd = "<tr>";
                strtd += "<td class='clsidmat' >" + idmat + "</td>";
                strtd += "<td class='clsdesmat' >" + desMat + "</td>";
                strtd += "<td><input class='clscantmat' type='text' value='1' size='2' maxlength='2' onkeypress='return isNumberIntegerKey(event)'  /></td>";
                strtd += "<td><a href='javascript:void(0)' onclick='delitem(this)'  >Eliminar</a></td>";
                strtd += "</tr>";

                $('#tbmat').append(strtd);

                }

                //$('#DIVlistamante tbody').append(strtd);


                $("#myModalMat").hide();
            }




            function cargarComboJefeLaboratorio() {
                //alert("Cargar Combo");
                var dataEmpleado = {
                    tipoEmpleado: 'Jefe Laboratorio',
                    sede: 'Lince'
                }

                $.ajax({
                    type: "POST",
                    async: false,
                    url: '/Empleado/listarEmpleado/',
                    cache: false,
                    //data: JSON.stringify(dataEmpleado),
                    dataType: "JSON",
                    contentType: "application/json",
                    success: function (data) {
                        console.log(data);
                        //alert("Longitud:" + data.length);
                        $(".con-json select").empty();
                        $('.con-json select').append('<option value="0">-- Seleccione --</option>');
                        $.each(data, function (i, val) {
                            if ((val.cargo_empleado == 'JEFE LABORATORIO') && (val.sede == 'LINCE')) {
                                //alert(val.nombre_empleado);
                                $('.con-json select').append('<option value="' + val.id_empleado + '">' + val.nombre_empleado + '</option>');
                            }
                        });

                    },
                    error: function (xqr, errorMessage) {
                        alert(errorMessage);
                    }
                });

            }


            function buscarTipoExamen() {
                var dataTipoExamen = {
                    idComprobante: parseInt($('#idComprobante').val())
                }

                $.ajax({
                    type: "POST",
                    async: false,
                    url: '/TipoExamen/listarTipoExamen/',
                    cache: false,
                    data: JSON.stringify(dataTipoExamen),
                    dataType: "JSON",
                    contentType: "application/json",
                    success: function (data) {
                        console.log(data);
                        if (data.length != 0) {
                            $('#cblist').empty();
                            $.each(data, function (i, val) {
                                //alert(val.tipo_examen);
                                addCheckbox(val.tipo_examen);
                                /*$('#cblist')
                                    .append(
                                        $(document.createElement('input')).attr({
                                            id: + 'txtlab_' + val.tipo_examen,
                                            name: + 'txtlab_' + val.tipo_examen,
                                            value: + val.tipo_examen,
                                            type: 'text'
                                        }) + '<br />'
                                    );*/
                            });
                        } else {
                            alert("Comprobante no válido o no encontrado, verifique en caja...");
                        }

                    },
                    error: function (xqr, errorMessage) {
                        alert(errorMessage);
                    }
                });
            }


            function addCheckbox(name) {
                var container = $('#cblist');
                var inputs = container.find('input');
                var id = inputs.length + 1;

                $('<input />', { type: 'text', id: 'cb' + id, value: name, disabled: true }).appendTo(container);
                //$('<label />', { 'for': 'cb' + id, text: name }).appendTo(container);
                $('<br />').appendTo(container);
            }

            function alertaComprobantePago() {
                //un alert
                alertify.alert("<b>Número de Comprobante de Pago no encontrado</b><br>por favor, acerquese a caja",
                    function () {  }, 'popupAdvertencia');
            }


           /* var oAlert = alert;
            function alertmsg(txt, title) {
                try {
                    jAlert(txt, title);
                } catch (e) {
                    oAlert(txt);
                }
            }*/


            function confirmar() {
                //un confirm
                alertify.confirm("<p>Esta seguro que desea grabar la Cartilla de Atención<br><br></p>", function (e) {
                    if (e) {
                        alertify.success("Has pulsado '" + alertify.labels.ok + "'");
                    } else {
                        alertify.error("Has pulsado '" + alertify.labels.cancel + "'");
                    }
                });
                return false
            }


            function limpiarComprobante() {
                $("#dniCliente").html("");
                $("#nombreCliente").html("");
                $("#telefonoCliente").html("");
                $("#celularCliente").html("");
                $("#correoCliente").html("");
                $("#nombrePaciente").html("");
                $("#tipoPaciente").html("");
                $("#razaPaciente").html("");
                $("#colorPaciente").html("");
                $('#cblist').empty();
                $("#idComprobante").val("");
                $("#idCliente").val("");
                $("#idPaciente").val("");
            }

            function grabarficha() {

                var errores=false;



                if ($('#txtNroSol').val() == '') {

                    alertify.error("<b>Debe seleccionar una Sol. de Mantenimiento  </b><br>");
                    errores = true;
                }

                /*var rowCount = $('#tbact tr').length;
                var rowCount = $('#tbmat tr').length;

                if (   ){
                
                
                }*/
                

                if(!errores) {


                    var cartilla = {
                    codigoFichaMantenimiento: null,
                    codigoMantenimiento: $('#txtNroSol').val(),
                    codigoEmpleado: '1',
                    descripcion: $('#txtDescMant').val(),
                    fecha: $('#fecMant').val(),
                    fechaInicio: $('#fecMant').val(),
                    fechaFin: $('#fecMant').val(),
                    cantidadTecnicos: $('#txtNumTec').val(),
                    estado: '1',
                    usuarioRegistro: 'jesus',
                    accion: 'I'
                }

                $.ajax({
                    type: "POST",
                    async: false,
                    url: '/GML_FichaMantenimiento/guardarFicha',
                    cache: false,
                    data: JSON.stringify(cartilla),
                    dataType: "JSON",
                    contentType: "application/json",
                    success: function (data) {

                        //alert(response,"titulo")

                        if (parseInt(data) > 0) {
                            grabarMante(parseInt(data));
                            alertify.alert("<b>Se registró la Ficha de Mant. Nro:" + data + " satisfactoriamente.</b><br>");
                        } else {
                            alertify.error("<b>Ocurrió un inconveniente al crear la Ficha</b><br>");
                        }
                        $("#myModal").hide();
                        // actualizarTabla();
                    },
                    error: function (xqr, errorMessage) {
                        alertify.error("<b>Ocurrió un inconveniente al crear la Ficha.</b><br>");
                    }
                });


            }

            }


           /* grabar detalle */

            function grabarMante(idFicha) {

                var aridact= "";
                var ardesact = "";
                 

                $('#tbact tr').each(function () {

                    aridact += $(this).find('.clsidact').text() + "|";
                    ardesact += $(this).find('.clsdesact').text() + "|";

                });


                var mante = {
                    CodigoMantenimiento: 0,
                    CodigoFichaMantenimiento: idFicha,
                    CodigoActividad:aridact,
                    Descripcion: ardesact,
                    UsuarioCreacion: 'JESUS',
                    Accion:'I'
                }

                $.ajax({
                    type: "POST",
                    async: false,
                    url: '/GML_FichaMantenimiento/guardarActividades',
                    cache: false,
                    data: JSON.stringify(mante),
                    dataType: "JSON",
                    contentType: "application/json",
                    success: function (data) {

                    },
                    error: function (xqr, errorMessage) {
                        alertify.error("<b>Ocurrió un inconveniente al grabar act.</b><br>");
                    }
                });

                /* resgistrar MAteriales */

                var aridmat = "";
                var ardesmat = "";
                var arcantmat = "";

                $('#tbmat tr').each(function () {

                    aridmat += $(this).find('.clsidmat').text() + "|";
                    ardesmat += $(this).find('.clsdesmat').text() + "|";

                    if ($(this).find('.clscantmat').val() == '') {
                        arcantmat += '1' + "|";
                    } else {
                        arcantmat += $(this).find('.clscantmat').val() + "|";
                    }
                    
                });

                var mante = {
                    CodigoMantenimiento: 0,
                    CodigoFichaMantenimiento: idFicha,
                    CodigoMaterial: aridmat,
                    Descripcion: ardesmat,
                    Cantidad: arcantmat,
                    UsuarioCreacion: 'JESUS',
                    Accion: 'I'
                }


                $.ajax({
                    type: "POST",
                    async: false,
                    url: '/GML_FichaMantenimiento/guardarMateriales',
                    cache: false,
                    data: JSON.stringify(mante),
                    dataType: "JSON",
                    contentType: "application/json",
                    success: function (data) {

                    },
                    error: function (xqr, errorMessage) {
                        alertify.error("<b>Ocurrió un inconveniente al grabar materiales.</b><br>");
                    }
                });


            }


           /* fin grabar mante */

            function filtroBuscar() {

                if ($("#cboEstado option:selected").html() == 'TODOS') {
                    mostrarCartillaAtencion();
                    return false;
                }
                /*var Cliente = {
                    nombre: $('#txtNombrePaciente').val()
                }*/

                var Paciente = {
                    nombre: $('#txtNombrePaciente').val().toUpperCase()
                }

                var filtro = {
                    numero_comprobante: $('#txtComprobantePago').val(),
                    //nombre_cliente: $('#txtNombreCliente').val(),
                    Paciente: Paciente,
                    //nombre_empleado: $('#txtNombreEmpleado').val(),
                    codigo: $('#txtCodigoCartilla').val(),
                    estado_cartilla: $("#cboEstado option:selected").html(),
                    desde_day: $('#desdeDay').val(),
                    hasta_day: $('#hastaDay').val()
                }

                //alertify.alert("Comprobante_Pago: " + filtro.numero_comprobante + "<BR>Nombre Paciente: " + filtro.nombre_paciente);

                $.ajax({
                    type: "POST",
                    async: false,
                    url: '/CartillaAtencion/buscarCartillaAtencion',
                    cache: false,
                    data: JSON.stringify(filtro),
                    dataType: "JSON",
                    contentType: "application/json",
                    success: function (data) {
                        console.log(data);
                        if (data.length != 0) {
                            alertify.alert("<b>La búsqueda fue satisfactoria.</b><br>");
                            $('#cbtable').empty();
                            var $tableCartilla = $('<table/>');
                            $tableCartilla.append('<thead><tr><th>COMPROBANTE</th><th>NOMBRE CLIENTE</th><th>PACIENTE</th><th>NOMBRE EMPLEADO</th><th>CÓDIGO</th><th>FECHA CREACIÓN</th><th>ESTADO</th></tr></thead>');
                            var $tbodyCartilla = $('<tbody/>');
                            $.each(data, function (i, val) {
                                //alert("val:" + val.NUMCOM);
                                var $row = $('<tr/>');
                                $row.append($('<td/>').html(val.NUMCOM));
                                $row.append($('<td/>').html(val.NOMCLI));
                                $row.append($('<td/>').html(val.NOMPAC));
                                $row.append($('<td/>').html(val.NOMEMP));
                                $row.append($('<td/>').html(val.CODIGO));
                                $row.append($('<td/>').html(val.FECCRE));
                                $row.append($('<td/>').html(val.ESTCAR));

                                $tbodyCartilla.append($row);

                            });
                        } else {
                            var $tableCartilla = $('<table/>');
                            $tableCartilla.append('<thead><tr><th>COMPROBANTE</th><th>NOMBRE CLIENTE</th><th>PACIENTE</th><th>NOMBRE EMPLEADO</th><th>CÓDIGO</th><th>FECHA CREACIÓN</th><th>ESTADO</th></tr></thead>');
                            var $tbodyCartilla = $('<tbody/>');
                            var $row = $('<tr/>');
                            $row.append($('<td colspan="7"/>').html("No existen datos para la consulta realizada..."));
                            $tbodyCartilla.append($row);
                        }
                        $tableCartilla.append($tbodyCartilla);
                        $('#tabAtencionMedica').html($tableCartilla);
                    },
                    error: function (xqr, errorMessage) {
                        alertify.error("<b>Ocurrió un inconveniente al buscar la Cartilla de Atención.</b><br>");
                    }
                });
            }

            function limpiarCamposBusqueda(){
               /* $('#txtCodigoCartilla').val("");
                $('#txtComprobantePago').val("");
                $('#txtNombreCliente').val("");
                $('#txtNombrePaciente').val("");
                $('#txtNombreEmpleado').val("");
                $('#txtNombreEmpleado').val("");
                $('#txtNombreEmpleado').val("");
                $('#cboEstado option[value="0"]').attr('selected', 'selected');
                $('input[type=date]').each(function resetDate() {
                    this.value = this.defaultValue;
                });
                if ($("#cboEstado option:selected").html() == 'TODOS')
                    $('#cboEstado option[value="0"]').attr('selected', 'selected');*/
            }


            function mostrarCartillaAtencion() {
                    actualizarTabla();
            }

            /*$.getJSON("/Solicitud/ListaEstado").done(function (data) {
           var options = $("#cboEstado");
           options.empty();
           $.each(data, function (index, item) {
               options.append($("<option />").val(data[index].value).text(data[index].text));
            });*/


            /*$.getJSON("/Solicitud/ListaPrioridad").done(function (data) {
                var options = $("#cboPrioridad");
                options.empty();
                $.each(data, function (index, item) {
                    options.append($("<option />").val(data[index].value).text(data[index].text));
                });
            });

            $.getJSON("/Solicitud/ListaRecurso").done(function (data) {
                var options = $("#cboProducto");
                options.empty();
                $.each(data, function (index, item) {
                    options.append($("<option />").val(data[index].value).text(data[index].text));
                });
            });*/


            /* $('#addDetalle').click(function () {

                 var isValidItem = true;
                 if ($('#cboProducto').val() == '0') {
                     isValidItem = false;
                     $('#cboProducto').siblings('span.error').css('visibility', 'visible');
                 }
                 else {
                     $('#cboProducto').siblings('span.error').css('visibility', 'hidden');
                 }

                 if (!($('#txtCantidad').val().trim() != '' && !isNaN($('#txtCantidad').val().trim()))) {
                     isValidItem = false;
                     $('#txtCantidad').siblings('span.error').css('visibility', 'visible');
                 }
                 else {
                     $('#txtCantidad').siblings('span.error').css('visibility', 'hidden');
                 }
                 if (isValidItem) {
                     detalleSolicitud.push({
                         item: 0,
                         cantidad_solicitada: parseInt($('#txtCantidad').val().trim()),
                         codigo_recurso: $("#cboProducto").val(),
                         nombre_recurso: $("#cboProducto option:selected").text()
                     });

                     $('#cboProducto').val('').focus();
                     $('#txtCantidad').val('');

                     GeneraDetalleSolicitud();
                 }

                */
            /*function GeneraDetalleSolicitud() {
                if (detalleSolicitud.length > 0) {
                    var $table = $('<table/>');
                    $table.append('<thead><tr><th>Item</th><th>Producto</th><th>Descripcion</th><th>Cantidad</th><th>Acción</th></tr></thead>');
                    var $tbody = $('<tbody/>');
                    $.each(detalleSolicitud, function (i, val) {
                        var $row = $('<tr/>');
                        $row.append($('<td/>').html(val.item));
                        $row.append($('<td/>').html(val.codigo_recurso));
                        $row.append($('<td/>').html(val.nombre_recurso));
                        $row.append($('<td/>').html(val.cantidad_solicitada));
                        $row.append($('<td/>').html("<a class='editar' href='#'><i class='glyphicon glyphicon-trash' title='Eliminar'></i></a>"));
                        $tbody.append($row);
                    });
                    $table.append($tbody);
                    $('#detalleSolicitud').html($table);
                }
            }*/



            $('#btn-addman').click(function () {


                $('#txtNomMante,#txtDescripMante').val('');

            });

            var DivMante= $('#myModal');

            var idman = 0;
              $('#btnGuardar').click(function () {

                  var errores = false;

                  if ($('#txtNomMante').val() == '') {

                      alertify.error("<b>Debe Ingresar un nombre para el Mant. </b><br>");
                      errores = true;

                  }

                  if ($('#hastaDay').val() == '') {

                      alertify.error("<b>Debe Ingresar la fecha para el Mant. </b><br>");
                      errores = true;

                  }

                  var str = "<tr>";

                  if (!errores) {

                      idman++;

                      str += "<td  class ='idman'>" + idman + "</td>";
                      str += "<td class='clsnommante' >" + $('#txtNomMante').val() + "</td>";
                      str += "<td class='clsfecmante' >" + $('#hastaDay').val() + "</td>";
                      str += "<td class='clsdesmante' >" + $('#txtDescripMante').val() + "</td>";
                      str += "<td  >" + '<a href="javascript:void(0)" class="delmante"  onClick="delitem(this)" >Eliminar</a>' + "</td>";

                      str += "</tr>";


                      $('#tbmante').append(str);
                      $("#myModal").hide();
                      //DivMante.modal('hide');
                  }
              });

              function delitem(obj) {

                  $(obj).parent().parent().detach();

              }

              Date.prototype.yyyymmdd = function () {
                  var mm = this.getMonth() + 1; // getMonth() is zero-based
                  var dd = this.getDate();

                  return [this.getFullYear(),
                          (mm > 9 ? '' : '0') + mm,
                          (dd > 9 ? '' : '0') + dd
                  ].join('-');
              };

              var date = new Date();
            //alert(date.yyyymmdd());

              $('input[type=date]').val(date.yyyymmdd());
              

              function isNumberIntegerKey(evt) { //Solo numeros (entero)
                  var charCode = (evt.which) ? evt.which : window.event.keyCode;

                  if ((charCode >= 48 && charCode <= 57) || charCode == 8 || charCode == 0)
                      return true;

                  return false;
              }
            
        </script>
</body>
</html>



<style>
    /*Adding some css for looks good*/
    span.error {
        display: block;
        visibility: hidden;
        color: red;
        font-size: 90%;
    }


    /*css for table*/
    .container td {
        vertical-align: top;
    }

    .tablecontainer table {
        width: 100%;
        border-collapse: collapse;
        border-top: 1px solid #BFAEAE;
        border-right: 1px solid #BFAEAE;
    }

    .tablecontainer th {
        border-bottom: 2px solid #BFAEAE !important;
    }

    .tablecontainer th, .tablecontainer td {
        text-align: left;
        border-left: 1px solid #BFAEAE;
        padding: 5px;
        border-bottom: 1px solid #BFAEAE;
    }

    .ui-widget {
        font-size: 12px !important;
    }
</style>

